---
import LocalTime from './LocalTime.vue';

interface Props {
	title?: string;
	description?: string;
	author?: string;
	category?: string;
	tags?: string[];
	image?: string;
	date?: Date;
	link?: string;
}

const {
	title,
	description,
	author,
	category,
	tags,
	date,
	link,
} = Astro.props as Props;

---

<article>
	<div class="article-card">
		<div class="post-content">
			<div class="tags">
				{tags?.map((tag) =><a href={`/tags/${tag}`}><span>{tag}</span></a>)}
			</div>
			<a href={link}>
				<h2>{title}</h2>
				<div class="post-meta">
					<i class="fas fa-user"></i>
					<span>{author} |</span>
					<i class="fas fa-folder"></i>
					<span>{category} |</span>
					<i class="far fa-clock"></i>
					<LocalTime client:load date={date as Date} />
				</div>
				<p class="post-desc">{description}</p>
			</a>
		</div>
	</div>
</article>

<style>

	/* ===== 文章卡片 ===== */
	.article-card {
		background: var(--card-bg);
		border-radius: 20px;
		padding: 20px;
		margin-bottom: 30px;
		box-shadow: var(--shadow);
		border: 2px solid white;
		transition:
			transform 0.3s,
			box-shadow 0.3s;
		display: flex;
		gap: 20px;
		overflow: hidden;
	}
	.article-card:hover {
		transform: translateY(-5px);
		box-shadow: 0 12px 25px rgba(255, 107, 129, 0.3);
		border-color: var(--primary-pink);
	}

	/* ===== 标签 ===== */
	.tags {
        display: flex;
        flex-wrap: wrap;
        gap: 5px;
    }

    .tags span {
        display: inline-block;
        background: #ffe4e1;
        color: var(--dark-pink);
        padding: 4px 10px;
        border-radius: 12px;
        font-size: 0.85em;
        cursor: pointer;
        transition: all 0.3s;
    }
    .tags span:hover {
        background: var(--dark-pink);
        color: white;
    }

	/* ===== 文章内容 ===== */
	.post-thumb {
		width: 200px;
		height: 140px;
		background-color: #ffe4e1;
		border-radius: 12px;
		object-fit: cover;
		flex-shrink: 0;
	}

	.post-content h2 {
		margin: 0 0 10px 0;
		color: var(--dark-pink);
		font-size: 1.4em;
	}
	.post-meta {
		font-size: 0.85em;
		color: #999;
		margin-bottom: 10px;
	}
	.post-desc {
		line-height: 1.6;
		display: -webkit-box;
		-webkit-line-clamp: 3;
		-webkit-box-orient: vertical;
		overflow: hidden;
	}

	/* ===== 按钮 ===== */
	.btn-read {
		display: inline-block;
		margin-top: 10px;
		padding: 8px 20px;
		background: linear-gradient(
			90deg,
			var(--primary-pink),
			var(--dark-pink)
		);
		color: white;
		border-radius: 20px;
		font-size: 0.9em;
		font-weight: bold;
	}

	/* ===== 响应式 ===== */
	@media (max-width: 768px) {
		.article-card {
			flex-direction: column;
		}
		.post-thumb {
			width: 100%;
			height: 180px;
		}
	}
</style>
