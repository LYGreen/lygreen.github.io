<!DOCTYPE html>
<html lang="en-US" dir="ltr">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Arch Linux 离线安装教程 | 💝 LYGreen 的博客 💖</title>
    <meta name="description" content="给一台没有网的设备安装 Arch Linux">
    <meta name="generator" content="VitePress v1.6.3">
    <link rel="preload stylesheet" href="/assets/style.B0mdTMcV.css" as="style">
    <link rel="preload stylesheet" href="/vp-icons.css" as="style">
    
    <script type="module" src="/assets/app.BwQz_pRI.js"></script>
    <link rel="modulepreload" href="/assets/chunks/theme.ChyLAQmB.js">
    <link rel="modulepreload" href="/assets/chunks/framework.CGIupE7Q.js">
    <link rel="modulepreload" href="/assets/posts_arch-linux-offline-install.md.DpRiuOHs.lean.js">
    <script>(function(){const e=localStorage.getItem("data-theme");e!=null?document.documentElement.setAttribute("data-theme",e):window.matchMedia("(prefers-color-scheme: dark)").matches?document.documentElement.setAttribute("data-theme","dark"):document.documentElement.setAttribute("data-theme","light")})();</script>
    <script id="check-dark-mode">(()=>{const e=localStorage.getItem("vitepress-theme-appearance")||"auto",a=window.matchMedia("(prefers-color-scheme: dark)").matches;(!e||e==="auto"?a:e==="dark")&&document.documentElement.classList.add("dark")})();</script>
    <script id="check-mac-os">document.documentElement.classList.toggle("mac",/Mac|iPhone|iPod|iPad/i.test(navigator.platform));</script>
    <meta name="robots" content="index, nofollow">
  </head>
  <body>
    <div id="app"><div id="layout" data-v-e12850b3><header data-v-e12850b3><div id="header" data-v-e12850b3 data-v-b5db441b><div class="left" data-v-b5db441b><a class="block home" href="/" data-v-b5db441b>首页</a><a class="block category" href="/category/" data-v-b5db441b>分类</a><a class="block tag" href="/tag/" data-v-b5db441b>标签</a></div><div class="right" data-v-b5db441b><div id="search" data-v-b5db441b data-v-32e7de8f><svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" fill="none" stroke="#333" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather-search" data-v-32e7de8f><circle cx="10" cy="10" r="6" data-v-32e7de8f></circle><line x1="15.5" y1="15.5" x2="18.5" y2="18.5" data-v-32e7de8f></line></svg><input type="text" placeholder="搜索" class="text-box" value="" data-v-32e7de8f></div><button data-v-b5db441b>切换主题</button><a class="block github" href="https://github.com/LYGreen/lygreen.github.io" target="_blank" data-v-b5db441b>Github</a></div></div></header><main data-v-e12850b3><div id="article" data-v-e12850b3 data-v-f79729a7><div class="toc" data-v-f79729a7><input type="checkbox" id="toc-toggle" hidden data-v-f79729a7><label for="toc-toggle" data-v-f79729a7><strong data-v-f79729a7>目录</strong></label><hr data-v-f79729a7></div><div class="content" data-v-f79729a7><div class="content-header" data-v-f79729a7><h2 data-v-f79729a7>Arch Linux 离线安装教程</h2><p data-v-f79729a7>给一台没有网的设备安装 Arch Linux</p><div class="header-elements" data-v-f79729a7><div data-v-f79729a7>📅创建时间：2024/10/26 00:43:41</div><div data-v-f79729a7>🕒修改时间：2025/8/10 21:34:06</div><div data-v-f79729a7>📖阅读时间：4 分钟</div></div></div><hr data-v-f79729a7><div style="position:relative;" class="content-body" data-v-f79729a7><div><h1 id="虚拟机离线安装-arch-linux" tabindex="-1">虚拟机离线安装 Arch Linux <a class="header-anchor" href="#虚拟机离线安装-arch-linux" aria-label="Permalink to &quot;虚拟机离线安装 Arch Linux&quot;">​</a></h1><hr><h2 id="需要准备" tabindex="-1">需要准备： <a class="header-anchor" href="#需要准备" aria-label="Permalink to &quot;需要准备：&quot;">​</a></h2><ul><li><p>可联网并使用 pacman 的 Arch Linux ( 可以是 Live 环境 )</p></li><li><p>虚拟机 ( VMware 或 VirtualBox )</p></li></ul><hr><h2 id="下载软件包-此处使用虚拟机的-live-环境" tabindex="-1">下载软件包 ( 此处使用虚拟机的 Live 环境 )： <a class="header-anchor" href="#下载软件包-此处使用虚拟机的-live-环境" aria-label="Permalink to &quot;下载软件包 ( 此处使用虚拟机的 Live 环境 )：&quot;">​</a></h2><ol><li>先做好磁盘相关工作 ( lsblk 可以检查磁盘状态 )：</li></ol><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">lsblk</span></span></code></pre></div><p><img src="/img-arch-linux-offline-install/img1.png" alt=""></p><ol start="2"><li>接下来对磁盘进行操作</li></ol><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">fdisk</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> /dev/sda</span></span></code></pre></div><ol start="3"><li>出现 Command (m for help): 之后输入 n 创建分区</li></ol><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>Command (m for help):n</span></span></code></pre></div><ol start="4"><li>之后一直按回车直到再次出现 Command (m for help): 之后输入 w 进行写入</li></ol><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>Command (m for help):w</span></span></code></pre></div><ol start="5"><li>此时输入 lsblk 会出现一个新的分区</li></ol><p><img src="/img-arch-linux-offline-install/img2.png" alt=""></p><ol start="6"><li>接下来将 sda1 分区进行格式化</li></ol><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">mkfs.ext4</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> /dev/sda1</span></span></code></pre></div><ol start="7"><li>将该分区挂载到目录 /mnt</li></ol><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">mount</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> /dev/sda1</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> /mnt</span></span></code></pre></div><ol start="8"><li>进入到 /mnt 目录，并在该目录创建文件夹</li></ol><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">cd</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> /mnt</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">mkdir</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -p</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> /mnt/var/lib/pacman/sync</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">mkdir</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -p</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> /mnt/var/cache/pacman/pkg</span></span></code></pre></div><ol start="9"><li>下载存储库 ( 由于该目录挂载的是 sda1 分区，所以下载之后会保存在磁盘当中 )</li></ol><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">pacman</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --root</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> /mnt</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --cachedir</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> /mnt/var/lib/pacman/pkg</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -Sy</span></span></code></pre></div><ol start="10"><li>下载软件包，此处为下载 base, linux, linux-firmware, grub, vim, dhcpcd 包，如果有需要其他的包可以在后面进行添加 ( Live 镜像里的包可以在此处看到 <a href="https://geo.mirror.pkgbuild.com/iso/latest/arch/pkglist.x86_64.txt" target="_blank" rel="noreferrer">pkglist.x86_64.txt</a> )</li></ol><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">pacman</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --root</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> /mnt</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --cachedir</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> /mnt/var/cache/pacman/pkg</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -Sw</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> base</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> linux</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> linux-firmware</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> grub</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> vim</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> dhcpcd</span></span></code></pre></div><div class="info custom-block"><p class="custom-block-title">INFO</p><p>如果下载包的过程中遇到签名不正确的问题，这是因为用于管理和验证软件包签名的公钥没有更新，需要对公钥集合进行更新，命令：<br><code>sudo pacman -Sy archlinux-keyring</code></p></div><ol start="11"><li>下载好之后进行压缩</li></ol><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">tar</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -czvf</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> packages.tar.gz</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> var</span></span></code></pre></div><ol start="12"><li>接下来可以用 pscp 等工具将该压缩包进行复制到当前计算机 ( 此处以 pscp 为例，将文件复制到 pscp 根目录 )</li></ol><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">pscp</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -r</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> root@192.168.x.x:/mnt/packages.tar.gz</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> .</span></span></code></pre></div><ol start="13"><li>若在连接的过程中提示需要密码，则可以先在 Arch Linux 创建一个密码</li></ol><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">passwd</span></span></code></pre></div><p><img src="/img-arch-linux-offline-install/img3.png" alt=""></p><ol start="14"><li>该虚拟机可以作废了</li></ol><hr><h2 id="安装软件包-此处新建了一个-arch-linux-虚拟机" tabindex="-1">安装软件包 ( 此处新建了一个 Arch Linux 虚拟机 ) <a class="header-anchor" href="#安装软件包-此处新建了一个-arch-linux-虚拟机" aria-label="Permalink to &quot;安装软件包 ( 此处新建了一个 Arch Linux 虚拟机 )&quot;">​</a></h2><h3 id="安装系统" tabindex="-1">安装系统 <a class="header-anchor" href="#安装系统" aria-label="Permalink to &quot;安装系统&quot;">​</a></h3><ol><li>和刚才一样，先将磁盘进行分区，格式化</li></ol><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">fdisk</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> /dev/sda</span></span></code></pre></div><ol start="2"><li>fdisk 命令( 新建分区，写入 )</li></ol><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>Command (m for help):n</span></span>
<span class="line"><span>Command (m for help):w</span></span></code></pre></div><ol start="3"><li>格式化，挂载，进入到该目录</li></ol><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">mkfs.ext4</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> /dev/sda1</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">mount</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> /dev/sda1</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> /mnt</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">cd</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> /mnt</span></span></code></pre></div><ol start="4"><li>然后进行局域网传输 ( 或其他可行的方法 )，在当前计算机开启一个网页服务器 ( 可用 nginx, Visual Studio Code 的 Live Server 等 )，在 Arch Linux 里面根据当前计算机的 <strong>ip</strong>，<strong>端口</strong> 和 <strong>文件路径</strong> 输入命令，把当前计算机的 packages.tar.gz 文件传输到虚拟机里</li></ol><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">curl</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -O</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> 192.168.x.x:xx/path/to/packages.tar.gz</span></span></code></pre></div><ol start="5"><li>解压</li></ol><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">tar</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -xzvf</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> packages.tar.gz</span></span></code></pre></div><ol start="6"><li>此时可以输入 ls 检查当前目录</li></ol><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">ls</span></span></code></pre></div><p><img src="/img-arch-linux-offline-install/img4.png" alt=""></p><ol start="7"><li>接下来进行安装 ( 设置 /mnt 目录为根，软件包为 /mnt/var/cache/pacman/pkg )</li></ol><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">pacman</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --root</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> /mnt</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --cachedir</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> /mnt/var/cache/pacman/pkg</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -S</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> base</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> linux</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> linux-firmware</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> grub</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> vim</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> dhcpcd</span></span></code></pre></div><ol start="8"><li>之后一直默认，进行安装</li></ol><p><img src="/img-arch-linux-offline-install/img5.png" alt=""></p><p><strong>此处安装过程中会遇到错误如下：</strong></p><p><img src="/img-arch-linux-offline-install/img6.png" alt=""></p><ol start="9"><li>因为 /mnt/dev 文件夹是空的，换句话说 /mnt/dev 没有和 Live 环境里的设备 /dev 进行绑定，因此需要进行绑定 ( 挂载虚拟文件系统 )</li></ol><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">mount</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --bind</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> /dev</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> /mnt/dev</span></span></code></pre></div><ol start="10"><li>此外，另外2个目录也需要进行绑定</li></ol><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">mount</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --bind</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> /proc</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> /mnt/proc</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">mount</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --bind</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> /sys</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> /mnt/sys</span></span></code></pre></div><ol start="11"><li>再次进行安装</li></ol><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">pacman</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --root</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> /mnt</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --cachedir</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> /mnt/var/cache/pacman/pkg</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -S</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> base</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> linux</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> linux-firmware</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> grub</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> vim</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> dhcpcd</span></span></code></pre></div><ol start="12"><li>安装完成之后即可进入该系统</li></ol><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">arch-chroot</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> /mnt</span></span></code></pre></div><h3 id="设置时区" tabindex="-1">设置时区 <a class="header-anchor" href="#设置时区" aria-label="Permalink to &quot;设置时区&quot;">​</a></h3><ol start="13"><li>例如设置为上海</li></ol><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">ln</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -sf</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> /usr/share/zoneinfo/Asia/Shanghai</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> /etc/localtime</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">hwclock</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --systohc</span></span></code></pre></div><h3 id="本地化" tabindex="-1">本地化 <a class="header-anchor" href="#本地化" aria-label="Permalink to &quot;本地化&quot;">​</a></h3><ol start="14"><li>使用 vim 编辑 /etc/locale.gen，取消注释所需的语言（ 如 en_US.UTF-8 ）:</li></ol><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">vim</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> /etc/locale.gen</span></span></code></pre></div><ol start="15"><li>然后生成本地化：</li></ol><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">locale-gen</span></span></code></pre></div><ol start="16"><li>设置系统语言：</li></ol><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">echo</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;LANG=en_US.UTF-8&quot;</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> &gt;</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> /etc/locale.conf</span></span></code></pre></div><h3 id="主机名" tabindex="-1">主机名 <a class="header-anchor" href="#主机名" aria-label="Permalink to &quot;主机名&quot;">​</a></h3><ol><li>设置主机名：</li></ol><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">echo</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;myhostname&quot;</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> &gt;</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> /etc/hostname</span></span></code></pre></div><ol start="2"><li>用 vim 编辑 /etc/hosts ，添加：</li></ol><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>127.0.0.1 localhost</span></span>
<span class="line"><span>::1       localhost</span></span>
<span class="line"><span>127.0.1.1 myhostname.localdomain myhostname</span></span></code></pre></div><h3 id="设置-root-密码" tabindex="-1">设置 root 密码 <a class="header-anchor" href="#设置-root-密码" aria-label="Permalink to &quot;设置 root 密码&quot;">​</a></h3><p><strong>一定要设置密码，否则之后启动系统密码怎么输都不行</strong></p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">passwd</span></span></code></pre></div><h3 id="安装-grub-引导加载程序" tabindex="-1">安装 grub ( 引导加载程序 ) <a class="header-anchor" href="#安装-grub-引导加载程序" aria-label="Permalink to &quot;安装 grub ( 引导加载程序 )&quot;">​</a></h3><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">grub-install</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --target=i386-pc</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> /dev/sda</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">grub-mkconfig</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -o</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> /boot/grub/grub.cfg</span></span></code></pre></div><h3 id="退出-chroot-并重启系统" tabindex="-1">退出 chroot 并重启系统 <a class="header-anchor" href="#退出-chroot-并重启系统" aria-label="Permalink to &quot;退出 chroot 并重启系统&quot;">​</a></h3><ol><li>退出 chroot：</li></ol><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">exit</span></span></code></pre></div><ol start="2"><li>取消挂载 sda1：</li></ol><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">umount</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -R</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> /mnt</span></span></code></pre></div><ol start="3"><li>重启：</li></ol><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">reboot</span></span></code></pre></div><hr><h2 id="完成" tabindex="-1">完成 <a class="header-anchor" href="#完成" aria-label="Permalink to &quot;完成&quot;">​</a></h2><p>选择 Arch Linux 即可进入系统</p><p><img src="/img-arch-linux-offline-install/img7.png" alt=""></p><h2 id="解决无网络问题" tabindex="-1">解决无网络问题 <a class="header-anchor" href="#解决无网络问题" aria-label="Permalink to &quot;解决无网络问题&quot;">​</a></h2><ol><li>若启动系统之后没有网络，则需要启动 dhcpcd 服务</li></ol><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">systemctl</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> start</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> dhcpcd</span></span></code></pre></div><ol start="2"><li>设置开机自启动：</li></ol><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">systemctl</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> enable</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> dhcpcd</span></span></code></pre></div><hr><h2 id="参考" tabindex="-1">参考 <a class="header-anchor" href="#参考" aria-label="Permalink to &quot;参考&quot;">​</a></h2><ul><li><a href="https://aquarium39.moe/posts/install-arch-offline/" target="_blank" rel="noreferrer">Arch 离线安装教程</a></li><li><a href="https://chatgpt.com/" target="_blank" rel="noreferrer">ChatGPT</a></li></ul></div></div><hr data-v-f79729a7><div class="content-footer" data-v-f79729a7><div class="header-elements" data-v-f79729a7><div data-v-f79729a7>📅创建时间：2024/10/26 00:43:41</div><div data-v-f79729a7>🕒修改时间：2025/8/10 21:34:06</div><div data-v-f79729a7>📖阅读时间：4 分钟</div></div></div><hr data-v-f79729a7><div id="comments" data-v-f79729a7></div></div></div></main><footer data-v-e12850b3><div id="footer" data-v-e12850b3 data-v-ed7ad626><hr data-v-ed7ad626><span data-v-ed7ad626>版权所有 ©  LYGreen。保留所有权利。</span><span data-v-ed7ad626>Copyright ©  LYGreen. All rights reserved.</span></div></footer><div id="pink-flower" data-v-e12850b3 data-v-58478546><canvas id="canvas" data-v-58478546></canvas></div></div></div>
    <script>window.__VP_HASH_MAP__=JSON.parse("{\"category_index.md\":\"BQFImgUA\",\"category_linux.md\":\"BF9aDvLg\",\"category_知识分享.md\":\"CzMmJfs8\",\"category_编程语言.md\":\"h6uQ8tZe\",\"index.md\":\"XiPou1qM\",\"page_2.md\":\"DyjlN2dP\",\"posts_arch-linux-offline-install.md\":\"DpRiuOHs\",\"posts_openwrt-wifi-setting.md\":\"DYYe6DYe\",\"posts_run-gui-application-without-desktop-environment.md\":\"BPVpm2kI\",\"posts_writing-hello-world.md\":\"VTVNyZzU\",\"search.md\":\"Kjoav4me\",\"tag_arch linux.md\":\"N4l7WnUU\",\"tag_c 语言.md\":\"vYLoIWCd\",\"tag_c.md\":\"2jHGCsTk\",\"tag_index.md\":\"G9Bj2VKG\",\"tag_openwrt.md\":\"BESXdqu5\"}");window.__VP_SITE_DATA__=JSON.parse("{\"lang\":\"en-US\",\"dir\":\"ltr\",\"title\":\"💝 LYGreen 的博客 💖\",\"description\":\"个人博客\",\"base\":\"/\",\"head\":[],\"router\":{\"prefetchLinks\":true},\"appearance\":true,\"themeConfig\":{\"data\":\"Hello World\"},\"locales\":{},\"scrollOffset\":134,\"cleanUrls\":true}");</script>
    
  </body>
</html>