<!DOCTYPE html>
<html lang="en-US" dir="ltr">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>linux在不安装桌面环境的情况下运行gui程序 | 💝 LYGreen 的博客 💖</title>
    <meta name="description" content="linux实现不安装桌面环境，运行gui程序">
    <meta name="generator" content="VitePress v1.6.3">
    <link rel="preload stylesheet" href="/assets/style.B0mdTMcV.css" as="style">
    <link rel="preload stylesheet" href="/vp-icons.css" as="style">
    
    <script type="module" src="/assets/app.BwQz_pRI.js"></script>
    <link rel="modulepreload" href="/assets/chunks/theme.ChyLAQmB.js">
    <link rel="modulepreload" href="/assets/chunks/framework.CGIupE7Q.js">
    <link rel="modulepreload" href="/assets/posts_run-gui-application-without-desktop-environment.md.BPVpm2kI.lean.js">
    <script>(function(){const e=localStorage.getItem("data-theme");e!=null?document.documentElement.setAttribute("data-theme",e):window.matchMedia("(prefers-color-scheme: dark)").matches?document.documentElement.setAttribute("data-theme","dark"):document.documentElement.setAttribute("data-theme","light")})();</script>
    <script id="check-dark-mode">(()=>{const e=localStorage.getItem("vitepress-theme-appearance")||"auto",a=window.matchMedia("(prefers-color-scheme: dark)").matches;(!e||e==="auto"?a:e==="dark")&&document.documentElement.classList.add("dark")})();</script>
    <script id="check-mac-os">document.documentElement.classList.toggle("mac",/Mac|iPhone|iPod|iPad/i.test(navigator.platform));</script>
    <meta name="robots" content="index, nofollow">
  </head>
  <body>
    <div id="app"><div id="layout" data-v-e12850b3><header data-v-e12850b3><div id="header" data-v-e12850b3 data-v-b5db441b><div class="left" data-v-b5db441b><a class="block home" href="/" data-v-b5db441b>首页</a><a class="block category" href="/category/" data-v-b5db441b>分类</a><a class="block tag" href="/tag/" data-v-b5db441b>标签</a></div><div class="right" data-v-b5db441b><div id="search" data-v-b5db441b data-v-32e7de8f><svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" fill="none" stroke="#333" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather-search" data-v-32e7de8f><circle cx="10" cy="10" r="6" data-v-32e7de8f></circle><line x1="15.5" y1="15.5" x2="18.5" y2="18.5" data-v-32e7de8f></line></svg><input type="text" placeholder="搜索" class="text-box" value="" data-v-32e7de8f></div><button data-v-b5db441b>切换主题</button><a class="block github" href="https://github.com/LYGreen/lygreen.github.io" target="_blank" data-v-b5db441b>Github</a></div></div></header><main data-v-e12850b3><div id="article" data-v-e12850b3 data-v-f79729a7><div class="toc" data-v-f79729a7><input type="checkbox" id="toc-toggle" hidden data-v-f79729a7><label for="toc-toggle" data-v-f79729a7><strong data-v-f79729a7>目录</strong></label><hr data-v-f79729a7></div><div class="content" data-v-f79729a7><div class="content-header" data-v-f79729a7><h2 data-v-f79729a7>linux在不安装桌面环境的情况下运行gui程序</h2><p data-v-f79729a7>linux实现不安装桌面环境，运行gui程序</p><div class="header-elements" data-v-f79729a7><div data-v-f79729a7>📅创建时间：2025/8/10 18:51:43</div><div data-v-f79729a7>🕒修改时间：2025/10/16 11:57:45</div><div data-v-f79729a7>📖阅读时间：2 分钟</div></div></div><hr data-v-f79729a7><div style="position:relative;" class="content-body" data-v-f79729a7><div><p>在linux做开发的时候，可能会需要开发gui程序，比如opencv，但是桌面环境太大了，会比较占资源，所以这里会尝试不安装桌面环境来启动gui程序</p><h2 id="安装所需要的包" tabindex="-1">安装所需要的包 <a class="header-anchor" href="#安装所需要的包" aria-label="Permalink to &quot;安装所需要的包&quot;">​</a></h2><p>这里用的是Arch Linux，所以用的是pacman包管理工具</p><h3 id="安装xorg相关包" tabindex="-1">安装xorg相关包 <a class="header-anchor" href="#安装xorg相关包" aria-label="Permalink to &quot;安装xorg相关包&quot;">​</a></h3><p>xorg是运行gui程序所需要的包</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">sudo</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> pacman</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -Sy</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> xorg-server</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> xorg-apps</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> xorg-xinit</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> xorg-xclock</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> xorg-xeyes</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> xorg-xcalc</span></span></code></pre></div><ul><li>xorg-server：X 服务器核心</li><li>xorg-apps：Xorg 工具集</li><li>xorg-xinit：启动 X 服务器的工具（startx）</li><li>xorg-xclock, xorg-xeyes, xorg-xcalc: xorg 示例程序</li></ul><h3 id="安装窗口管理器" tabindex="-1">安装窗口管理器 <a class="header-anchor" href="#安装窗口管理器" aria-label="Permalink to &quot;安装窗口管理器&quot;">​</a></h3><p>窗口管理器（Window Manager, WM）是负责管理窗口外观和行为的一个软件层，此处使用i3窗口管理器</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">sudo</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> pacman</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -Sy</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> i3</span></span></code></pre></div><h2 id="配置启动脚本" tabindex="-1">配置启动脚本 <a class="header-anchor" href="#配置启动脚本" aria-label="Permalink to &quot;配置启动脚本&quot;">​</a></h2><ol><li>创建文件 <code>~/.xinitrc</code> ，这个文件是运行startx命令的时候所需要执行的脚本</li></ol><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">vim</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> ~/.xinitrc</span></span></code></pre></div><ol start="2"><li>在里面写入需要执行的命令：<code>exec i3</code>，保存</li></ol><h2 id="启动xorg并运行gui程序" tabindex="-1">启动xorg并运行gui程序 <a class="header-anchor" href="#启动xorg并运行gui程序" aria-label="Permalink to &quot;启动xorg并运行gui程序&quot;">​</a></h2><h3 id="启动xorg" tabindex="-1">启动xorg <a class="header-anchor" href="#启动xorg" aria-label="Permalink to &quot;启动xorg&quot;">​</a></h3><ol><li>此处终端为tty1</li></ol><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">startx</span></span></code></pre></div><ol start="2"><li>启动之后的界面是这样，一片黑，什么也没有，但是已经成功启动xorg了 <img src="/img-run-gui-application-without-desktop-environment/img0.png" alt=""></li></ol><h3 id="运行gui程序" tabindex="-1">运行gui程序 <a class="header-anchor" href="#运行gui程序" aria-label="Permalink to &quot;运行gui程序&quot;">​</a></h3><ol><li>切换到终端tty2，按住 <code>Ctrl + Alt + F2</code> 进行切换，运行命令</li></ol><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">export</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> DISPLAY</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:0 </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 指定显示号，这个显示号也就是 tty1 终端那边的显示</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">xclock</span></span></code></pre></div><ol start="2"><li>切换到终端tty1，<code>Ctrl + Alt + F1</code> ，此时会看到一个gui程序显示了出来 <img src="/img-run-gui-application-without-desktop-environment/img1.png" alt=""></li></ol><div class="info custom-block"><p class="custom-block-title">INFO</p><p>在opencv开发过程中能正常显示gui，默认不是全屏，窗口可以进行拖动</p></div><h2 id="x11转发" tabindex="-1">X11转发 <a class="header-anchor" href="#x11转发" aria-label="Permalink to &quot;X11转发&quot;">​</a></h2><ol><li>编辑文件 <code>/etc/ssh/sshd_config</code> ，开启x11转发，重启服务</li></ol><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">sudo</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> vim</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> /etc/ssh/sshd_config</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"> # 把 &#39;#X11Forwarding yes&#39; 的 &#39;#&#39; 去掉，保存</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">systemctl</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> restart</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> sshd</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"> # 重启 sshd 服务</span></span></code></pre></div><ol start="2"><li>本机下载ssh客户端和xserver，这里使用的是<a href="https://www.chiark.greenend.org.uk/~sgtatham/putty/latest.html" target="_blank" rel="noreferrer">PuTTY</a>和<a href="https://vcxsrv.com/" target="_blank" rel="noreferrer">VcXsrv</a></li><li>打开vcxsrv，会在后台运行一个x服务器(设置全部默认即可)<br><img src="/img-run-gui-application-without-desktop-environment/img2.png" alt=""></li><li>运行putty，打开x11转发<br><img src="/img-run-gui-application-without-desktop-environment/img3.png" alt=""></li><li>输入ip连接到arch linux</li><li>接下来运行xclock，可以看到有小窗口弹了出来</li></ol><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">xclock</span></span></code></pre></div><p><img src="/img-run-gui-application-without-desktop-environment/img4.png" alt=""></p><h3 id="参考" tabindex="-1">参考 <a class="header-anchor" href="#参考" aria-label="Permalink to &quot;参考&quot;">​</a></h3><ul><li><a href="https://chatgpt.com/" target="_blank" rel="noreferrer">ChatGPT</a></li><li><a href="https://yuweizzz.github.io/post/install_gui_in_linux/" target="_blank" rel="noreferrer">安装 Linux 图形界面</a></li></ul></div></div><hr data-v-f79729a7><div class="content-footer" data-v-f79729a7><div class="header-elements" data-v-f79729a7><div data-v-f79729a7>📅创建时间：2025/8/10 18:51:43</div><div data-v-f79729a7>🕒修改时间：2025/10/16 11:57:45</div><div data-v-f79729a7>📖阅读时间：2 分钟</div></div></div><hr data-v-f79729a7><div id="comments" data-v-f79729a7></div></div></div></main><footer data-v-e12850b3><div id="footer" data-v-e12850b3 data-v-ed7ad626><hr data-v-ed7ad626><span data-v-ed7ad626>版权所有 ©  LYGreen。保留所有权利。</span><span data-v-ed7ad626>Copyright ©  LYGreen. All rights reserved.</span></div></footer><div id="pink-flower" data-v-e12850b3 data-v-58478546><canvas id="canvas" data-v-58478546></canvas></div></div></div>
    <script>window.__VP_HASH_MAP__=JSON.parse("{\"category_index.md\":\"BQFImgUA\",\"category_linux.md\":\"BF9aDvLg\",\"category_知识分享.md\":\"CzMmJfs8\",\"category_编程语言.md\":\"h6uQ8tZe\",\"index.md\":\"XiPou1qM\",\"page_2.md\":\"DyjlN2dP\",\"posts_arch-linux-offline-install.md\":\"DpRiuOHs\",\"posts_openwrt-wifi-setting.md\":\"DYYe6DYe\",\"posts_run-gui-application-without-desktop-environment.md\":\"BPVpm2kI\",\"posts_writing-hello-world.md\":\"VTVNyZzU\",\"search.md\":\"Kjoav4me\",\"tag_arch linux.md\":\"N4l7WnUU\",\"tag_c 语言.md\":\"vYLoIWCd\",\"tag_c.md\":\"2jHGCsTk\",\"tag_index.md\":\"G9Bj2VKG\",\"tag_openwrt.md\":\"BESXdqu5\"}");window.__VP_SITE_DATA__=JSON.parse("{\"lang\":\"en-US\",\"dir\":\"ltr\",\"title\":\"💝 LYGreen 的博客 💖\",\"description\":\"个人博客\",\"base\":\"/\",\"head\":[],\"router\":{\"prefetchLinks\":true},\"appearance\":true,\"themeConfig\":{\"data\":\"Hello World\"},\"locales\":{},\"scrollOffset\":134,\"cleanUrls\":true}");</script>
    
  </body>
</html>